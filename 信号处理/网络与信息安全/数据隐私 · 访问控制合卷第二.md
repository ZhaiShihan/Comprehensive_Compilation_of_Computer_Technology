### 壹  数据安全与隐私保护

##### 1. 数据安全概述：

- <font color="#00ffb0">议题 3 - 1</font>：数据安全威胁
	- 数据生命周期中面临来自内外部的多种安全威胁
	- **操作失误**
	- **内部泄密**
	- **黑客入侵**
	- **病毒破坏**
	- **物理干扰**
	- **自然灾害**

- <font color="#00ffb0">议题 3 - 2</font>：数据的生命周期及安全
	- 不同类型的数据，经历的生命周期也不同
	- 典型的数据周期包括数据**采集**、**存储**、**处理**、**传输**、**交换**、**销毁**等阶段
	- 数据采集过程的安全性从两个方面来保证：
		- **采集源**：充分认证采集点是经过安全认证的
		- **采集点数据流**：大部分情况下采集数据流需要做匿名化和脱敏处理
	- 数据存储：数据通常需要被存储在非安全的网络环境中，**加密**是在非安全环境下存储数据的通用手段
	- 数据传输：在非安全网络中传输需要进行加密，在穿越复杂的互联网环境和外部网络时，不仅要考虑**网络层加密**，还要考虑**数据层加密**
	- 数据处理：针对动态数据进行的一系列活动的组合，如**数据标记**、**数据清洗**、**元数据管理**、**数据模型设计**等；确保数据被合适的人访问是数据处理安全的基本前提，**访问控制**是数据处理环节基本的安全措施
	- 数据交换：数据经由**组织机构内部**与**外部组织机构及个人**的交互过程；交换过程中，除了严格的**身份验证**外，还需要保证数据**内置的安全性**；数据内置的安全性主要措施包括：**匿名、脱敏、加密、水印**
	- 数据销毁：指通过对数据及数据的存储介质通过相应的操作手段，使**数据彻底消失且无法通过任何手段恢复**的过程；作为一个有重大破坏性的行为，应确认任何的销毁操作都经**许可**

- <font color="#00ffb0">议题 3 - 3</font>：现实中的数据安全
	- 1. 身份的安全——身份鉴别（密码）
	- 2. 信息的安全——数据加密
	- 3. 密钥的安全——证书机制（验证公钥持有者的身份）
	- 4. 数据库的安全——数据审计
	- 5. 图片的安全——数字水印
	- 6. 隐私的安全——数据脱敏（数据通过指定的规则进行脱敏处理后，得到新的数据，依旧**保持源数据中的业务数据逻辑关系**，能够完全支持业务应用的数据使用和操作）

##### 2. 数据安全中的密码应用：

- <font color="#00ffb0">议题 3 - 4</font>：Linux 登录密码安全
	- Linux 系统中，每个使用者都有其对应的账户名称、User ID（UID）、Group ID（GID）
	- LInux 系统中，所有用户的账号和密码都可以在 **/etc/passwd**（系统管理员修改，所有用户查看，存储用户的基本信息，不包含密码） 和 **/etc/shadow**（系统管理员修改和查看，存储加密密码、密码策略及账户有效期等敏感信息）
	- 加密方法为 `crypt()`，基于 DES；增加干扰项（Salt）：`cipher=crypt(password, salt)=salt|crypt`，`crypt()` 是一个散列过程，UNIX 采用 MD5 算法
	- 没有算法可以回复口令，唯一的破解方式是蛮力攻击

- <font color="#00ffb0">议题 3 - 5</font>：Windows 用户密码安全
	- Windows 系统通过用户账户表示计算机使用者的身份，每个用户包含一个名称和一个密码，以及唯一的安全标识符（Security Identifier，SID）
	- 不同的用户和组具有不同的权限，从而限制其执行某些操作的能力
	- 可以通过 `whoami` 命令来获取本地系统上当前用户的用户名和组信息，以及相应的安全标识符（SID）、声明、本地系统上当前用户的权限、登录标识符（登录 ID）
	- Windows 系统使用两种方法对用户的密码进行哈希处理，它们分别是 **LAN Manager（LM）哈希**（容易被破解，Windows 2000 使用 NTLM）和 **NTLAN Manager（NTLM）哈希**（十六进制 -> ASCLL -> Unicode（MD4 加密））（哈希操作：使用一个函数对一个**任意长度**的字符串数据进行溢出数据运算，并返回一个**固定长度**的字符串）

- <font color="#00ffb0">议题 3 - 6</font>：WIFI 路由器密码安全
	- 常见的路由器操作：
		- Openwrt
		- dd-wrt
		- wayos 等
		- 多基于 Linux 内核，使用和 Linux 相同的密码管理方式
	- Python 可以暴力破解 WIFI 密码

##### 3. 区块链原理及应用：

- <font color="#00ffb0">议题 3 - 7</font>：区块链的概念与发展
	- 区块链的概念：
		- 1. 数据角色：一种几乎不能被更改的分布式数据库
		- 2. 效果记录：记录时间先后的、不可篡改的、可信任的数据库
		- 3. 技术角度：多种现有技术整合（如加密算法、P2P 文件传输等）
	- 区块链的核心技术：
		- 1. **哈希运算**：哈希实现防篡改，通过哈希构建**默克尔树**（Merkle Tree），实现内容改变的快速检测
		- 2. **数字签名**：消息完整性校验、消息发送者身份合法性校验
		- 3. **P2P 网络**
		- 4. **共识机制**：区块链是一个分布式“账本”（数据库），共识机制是保障账本的一致性，提升账本的容错性
		- 5. **智能合约**：优点是自动处理，扩展到非金融领域，一定程度人工智能
	- 区块链的优点：**分布式、去中心化、不可篡改和撤销、开放性、自治性、匿名性**
	- 区块链的不足：交易账本必须公开，当数据越大伴随着性能问题，区块链有延迟性，能耗问题
	- 区块链的分类：
		- 根据网络范围可分为：公有链、联盟链、私有链
		- **公有链、联盟链、私有链在开放程度上是递减的**
	- 区块链没有中心化节点，各节点是平等的，掌握单个节点无法实现修改数据，大大提高伪造数据的成本
	- 区块链天生的开放、透明，使得任何人都可以公开查询，伪造数据被发现的概率大增
	- 区块链的数据不可篡改性，也保证了已销售出去的产品信息已永久记录，无法再二次销售
	- 区块链与数据安全的应用：
		- 资产数字化：
			- 实体资产存在的问题：往往难以分割，不便于流通；流通难以监控，存在洗黑钱等风险
		- 跨境支付
		- 物流链
		- 版权保护
		- 区块链的隐蔽传输：实现全方位密集监听环境下情报等机密数据安全传输的关键技术

##### 4. 隐私保护与隐私计算：

- <font color="#00ffb0">议题 3 - 8</font>：隐私保护
	- 对隐私数据进行保护
	- 隐私信息在泛在互联环境下具有部分可用性
	- 脱敏的强度和信息的可用性
	- 本质是将隐私信息在**适当的时间**、**以适当的方式**分享给被授权的实体
	- 隐私保护技术：
		- 数据处理：
			- 去除数据关联性
			- 添加数据扰动
			- 匿名处理：**K - 匿名**等
		- 密码学方法：
			- 同态加密
			- 多方安全计算
		- 使用监控：
			- 身份认证
			- 访问控制
			- 安全审计
		- 信息隐藏：
			- 数字水印
			- 隐蔽通信
	- 隐私数据处理（脱敏）：
		- 采用有失真且不可逆的方法对隐私信息进行保护，使脱敏后的信息无法与数据主体关联起来
		- **泛化（Generalization）、抑制（Suppression）解耦（Anatomization）、置换（Permutation）、扰动（Perturbation）** 等
		- 泛化：将一类属性中的特定值用一个更宽泛的值代替
		- 抑制：发布信息时将某个属性、属性的值或者属性值的一部分以“* ”代替
		- 解耦、置换：
			- 解耦和置换都是去除准标识符和敏感属性间的关联性，而不改变准标识符或敏感属性的值
			- 解耦是将原始记录表分为两个表发布，分别发布准标识符属性和发布敏感属性，两表中只有一个相同的 GroupID 作为共有属性
			- 置换是把一个数据记录集合划分成组、在组内对敏感值进行置换，从而打乱准标识符和敏感属性间的对应关系
		- 扰动：用合成的数据值取代原始的数据值；扰动后的数据，其统计信息不发生显著改变，而且与真实数据主体失去联系性；扰动的主要机制包括加噪、数据交换、合成数据生成等
	- 隐私保护的手段：
		- K - 匿名技术：
			- 通过**概括**（对数据进行更加概括、抽象的描述）和**隐匿**（不发布某些数据项）技术，发布精度较低的数据，使得**同一个准标识符至少有 k 条记录**，是观察者无法通过准标识符连接记录
	- 隐私计算：
		- 隐私计算：保证数据提供方不泄露原始数据的前提下，对数据进行分析计算的一系列信息技术，保障数据在流通于融合的过程中“可用不可见”
		- 密码学、安全硬件、数据科学、人工智能、计算机工程等
		- 隐私计算技术分为三大方向：
			- 以多方安全计算为代表的密码学的隐私计算技术
			- 以联邦学习为代表的人工智能隐私保护技术
			- 以可信执行环境为代表的基于可信硬件的隐私计算
		- 隐私计算技术可以从底层硬件、基础层和算法应用等不同的角度加以区分
		- 多方安全计算（MPC）：
			- 图灵奖获得者姚期智院士于 1982 年提出和解答百万富翁问题而创立
			- 基于**不经意传输**、**同态加密**、**混淆电路技术**，能够在无可信第三方的情况下安全地进行多方协同的计算；参与方在这个过程中只能看到自己的输入和属于自己的输出，保证不泄露中间数据
			- 1. **隐私性**：各方私密传输独立，计算时不泄露任何本地数据
			- 2. **正确性**：多方计算实现约定的协同计算，结果具备正确性
			- 3. **去中心化**：安全多方计算中，各参与方地位平等
		- 联邦学习（FL）：客户终端从中央服务器下载现有预测模型，使用本地数据对模型进行训练，并将模型的更新内容上传至云端；训练模型通过将不同终端的模型更新进行融合，优化预测模型
		- 可信执行环境（TEE）：通过软硬件方法在中央处理器中构建一个安全的区域，保证其内部加载的程序和数据在**机密性和完整性**上得到保护；TEE 是一个隔离的执行环境，为在设备上运行的受信任应用程序提供了更高级别的安全性
		- 隐私计算典型应用：金融领域（反欺诈联邦学习建模的落地应用）、政务领域（疑犯信息查询）、医疗领域（新冠人工智能联合诊断）


### 贰  访问控制和防火墙技术

##### 1. 访问控制原理：

- <font color="#00ffb0">议题 4 - 1</font>：什么是访问控制
	- 访问控制是**允许或者禁止某人使用某项资源的能力**
	- 主体：提出资源访问请求（用户、进程、服务等）
	- 客体：被访问资源实体（文件、系统、数据等）
	- 访问：对资源的使用
	- 访问控制是保护数据安全的重要手段之一
	- 访问控制是信息安全保障机制的核心内容，是实现数据**保密性和完整性**机制的主要手段
	- 访问控制是为了限制**访问主体**对**访问客体**的**访问权限**，从而使计算机系统在**合法范围**内使用
	- 访问控制机制决定用户及代表一定用户利益的程序能做什么，及做到什么程度

- <font color="#00ffb0">议题 4 - 2</font>：访问控制的作用
	- 访问控制对**机密性**、**完整性**起直接的作用
	- 对于**可用性**，访问控制通过对以下信息的有效控制来实现：
		- 1. 谁可以发布影响网络可用性的**网络管理指令**
		- 2. 谁能够滥用资源以达到**占用资源**的目的
		- 3. 谁能够获得可以用于拒绝服务攻击的信息

- <font color="#00ffb0">议题 4 - 3</font>：访问控制模型描述
	- 访问可以被描述为一个三元组：$(s,o,a)$：**限制访问主体对客体的访问权限**，从而使客体在合法范围内使用
	- **规范**的访问控制模型是实现严格访问控制策略所必须
	- 基本的访问控制政策模型：
		- **自主**访问控制模型（Discretionary Access Control，DAC）
		- **强制**访问控制模型（Mandary Access Control，MAC）
		- **基于角色**的访问控制（Role - Based Access Control，RBAC）
		- **基于属性**的访问控制（Attribute - Based Access Control，ABAC）

- <font color="#00ffb0">议题 4 - 4</font>：自主访问控制模型（DAC）
	- 每个客体有一个所有者，所有者**按照其意愿**把客体的访问控制权限授予其他主体
	- 控制灵活、易于管理，是目前应用**最为普遍**的访问控制政策
	- DAC 的**有效性依赖于所有者对安全政策的正确理解和授予**
	- DAC 的实现机制：**访问控制表**和**访问控制矩阵**
	- DAC 的实现方法：**访问控制表**（Access Control Lists，ACL）和**访问能力表**（Capacity List，CL）
		- 访问控制表：每个客体附加一个可以访问它的主体的明细表，**客体决定主体**
		- 访问能力表：每个主体附加一个该主体可访问的客体的明细表，**主体决定客体**
	- DAC 的特点：根据主体的身份和授权来决定访问模式
	- DAC 的缺点：信息在移动过程中其**访问权限关系会被改变**，如用户 A 可将其对目标 O 的访问权限传递给用户 B，从而使不具备对 O 访问权限的 B 可访问 O

- <font color="#00ffb0">议题 4 - 5</font>：强制访问控制模型（MAC）
	- 每个主体和客体分配一个**固定的安全机制**，只有系统管理员才可以修改
	- 比如 I<II<III，或 秘密<机密<绝密
	- 只有在主体和客体的安全级别**满足一定规则**时，才允许访问
	- MAC 通过定义的安全级别，达到访问控制
	- 常用于军队和政府机构
	- MAC 通过**定义安全级别**达到访问控制
	- 相比 DAC，访问控制**粒度更细**，**安全性更高**
	- Windows 有强制完整性控制（Mandatory Integrity Control，MIC）

- <font color="#00ffb0">议题 4 - 6</font>：基于角色的访问控制（RBAC）
	- **设置多个角色**，并且每个角色都具备不同的权限
	- 用户组（Group）：用户的集合，$G=\{s_1,s_2,s_3\cdots\}$
	- 角色（Role）：角色是完成一项任务必须**访问的资源**及**相应操作权限**的集合，$R=\{(a_1,o_1),(a_2,o_2),(a_3,o_3),\cdots\}$
	- 授权管理：
		- 根据**任务需要**定义角色
		- 为角色分配**资源**和**操作权限**
		- 给一个用户组指定一个角色
	- RBAC 通过角色，隔离的主体和权限

- <font color="#00ffb0">议题 4 - 7</font>：基于属性的访问控制（ABAC）
	- 所有实体的描述统一为**属性**，所有的访问控制判定能够采取统一处理
	- 不关心访问者是谁

- <font color="#00ffb0">议题 4 - 8</font>：四种访问控制模型

| 名称        | 简称   | 特点                 | 典型场景             | 合规性优势       | 策略驱动方式              |
| :-------- | :--- | :----------------- | ---------------- | ----------- | ------------------- |
| 自主访问控制    | DAC  | 控制灵活，易于管理，但有一定安全风险 | 文件共享系统，小型组织      | 弱，易出现权限扩散   | 用户自主决定              |
| 强制访问控制    | MAC  | 粒度更细，安全性更高         | 军事信息系统，机密数据处理    | 强，满足严格合规要求  | 系统预设安全标签            |
| 基于角色的访问控制 | RBAC | 简化用户和权限的关系，易扩展、易维护 | 企业 ERP 系统，医院信息系统 | 较强，支持审计追踪   | 管理员定义角色 - 权限关系      |
| 基于属性的访问控制 | ABAC | 所有访问控制判定统一处理，更灵活   | 云计算平台，物联网权限管理    | 强，支持细粒度合规策略 | 基于属性（用户/环境/资源）的策略规则 |

- <font color="#00ffb0">议题 4 - 9</font>：访问控制的设计原则
	- **最小特权原则**：每一用户和进程只应拥有**最小访问权**的集合，只能在为完成其任务所必须的那些权限所组成的**最小保护域**内执行，方便程序的正确性证明和维护，抑制特洛伊木马和实现可靠程序的基本措施
	- **开放式设计原则**：任何秘密应在**口令和密钥**中，不在机制本身，可以受到许多专家的**审查与验证**，也可以在用户间增加信任感
	- **特权的分隔原则**：把访问某个客体的权利分解为**多个子权利**，分别有不同的主题掌握，只有这些**子权利同时满足**才能对客体进行访问
	- **公共机制的最小化原则**：公共机制是指由**多用户共享**的机制，提供了**隐蔽信道**的可能性，不利于系统安全，应该最小化（提供分隔各用户的隔离机制）
	- 粒度、安全与复杂性
	- 经济性原则
	- 心理可接受原则

##### 2. 防火墙技术：

- <font color="#00ffb0">议题 4 - 10</font>：防火墙技术特征
	- 防火墙是在两个网络之间实施访问控制政策的一个或一组系统（软硬件组合）
	- 在两个信任程度不同的网络之间设置
	- 硬件防火墙：速度快，适合局域网，借助芯片，价格较贵
	- 软件防火墙，速度较慢，适合单机，通过软件方式实现，价格较低
	- 防火墙不能做什么：
		- 自身不会正确配置，需要用户定义访问控制规则
		- **防外不防内**，不能防止内部恶意的攻击者
		- 无法控制没有经过它的连接
		- 无法防范全新的威胁和攻击
		- 不能很好地实现内容方法防范，比如病毒等

- <font color="#00ffb0">议题 4 - 11</font>：防火墙核心技术
	- **包过滤技术**（Packet Piltering）：防火墙能够区分包和限制包的能力叫包过滤，工作在**网络层**；依照访问控制列表（ACL），列表条目指定了目标数据包的属性特征及对其执行的操作（包过滤不关心具体包内容）
	- **状态检测技术**（Proxy Stateful Inspection）：追踪网络中活跃链接的状态，工作在**网络层**和**传输层**，是防火墙产品的**基本功能**，也是防火墙实现安全防护的**基础技术**；状态检测防火墙依据网络链接的**状态**和**上下文**信息过滤数据包；工作依赖于**会话表**（记录连接的基本信息和状态）；**兼顾静态包过滤**的功能
	- **应用层代理**（Proxy）：工作在**应用层**，也叫应用层网关，具有**隔离内网和外网通信**的作用，保护内网不受破坏；可以支持**身份认证**功能
	- **地址转换**（NAT）：工作在**网络层**，除了转发之外还完成地址转换；网络**被 NAT 网关分为内网和外网**两个部分，网络访问只能从**内网向外**发起；需要**关联表**结构；NAT 的实现方式有：**静态转换**、**动态转换**和**端口多路复用**
	- **下一代防火墙**（NGFW）：至少具备两个功能：
		- 1. 基于用户防护：传统防火墙策略都是依赖 IP 或 MAC 地址来区分数据流，下一代防火墙具备用户身份管理系统，实现了分级、分组、权限、继承关系等功能
		- 2. 面向应用安全：包括智能流检和虚拟化远程接入两点

|     | 包过滤                                                                         | 状态检测                                      | 地址转换                                                                      |
| :-- | :-------------------------------------------------------------------------- | :---------------------------------------- | ------------------------------------------------------------------------- |
| 优点  | 1. 较高的网络性能<br>2. 成本较低<br>3. 对应用透彻                                           | 1. 安全性好、速度快<br>2. 规则配置方便<br>3. 兼顾静态包过滤的功能 | 1. 节省 IP 地址资源<br>2. 隐蔽内部的网络                                               |
| 缺点  | 1. 无法阻止欺骗类攻击（伪造 IP、端口等）<br>2. 容易受到拒绝服务攻击的影响<br>3. 规则配置复杂<br>4. 无法实施细粒度的保护策略 | 1. 消耗更多的处理器性能<br>2. 更复杂的设计也有受到更多种类攻击的风险   | 1. 地址转换破坏了 IP 包的完整性<br>2. 动态地址转换必须保留状态<br>3. Log 变得困难<br>4. 端口映射使得包过滤变得困难 |

| 技术   | 工作层级       | 核心能力             | 典型场景     |
| :--- | :--------- | :--------------- | :------- |
| 包过滤  | 网络层、传输层    | IP / 端口控制        | 基础网络隔离   |
| 状态检测 | 传输层 + 会话状态 | 动态会话跟踪           | 企业边界防护   |
| 应用代理 | 应用层        | 内容过滤与协议解析        | Web 安全网关 |
| NGFW | 全七层        | 用户 / 应用 / 威胁联动控制 | 高级威胁防护   |
| NAT  | 网络层        | 地址隐藏与安全接入        | 远程访问     |

- <font color="#00ffb0">议题 4 - 12</font>：下一代防火墙与传统防火墙的区别
	- 1. 功能的区别：
		- 传统防火墙仅具有数据包过滤、网络地址转换（NAT）、协议状态检查等基本的安全功能
		- 下一代防火墙可**收集防火墙外部的各类信息**，用于改进组织策略或作为优化组织规则的基础，包括利用目录继承来强化根据用户身份实施的组织或根据地址编制黑名单与白名单
	- 2. 数据监测的区别：
		- 普通防火墙不具备深度包检测功能
		- 下一代防火墙提供**深度包检测**功能，通过检查网络数据包中携带的数据，超越简单的端口和协议检查
	- 3. 应对威胁的区别：
		- 下一代防火墙增加了**应用级检查**、**入侵防御**以及对威胁情报服务提供的数据采取行动的能力
		- 扩展了 NAT，PAT 和 VPN 支持的传统防火墙功能，以在防火墙充当路由器的路由模式下运行
		- 可以扫描数据包，并且还继承了新的威胁管理技术

- <font color="#00ffb0">议题 4 - 13</font>：Web 应用防火墙（WAF）
	- WAF 的分类：按WAF 系统的实现方式，分为：**硬件 WAF**、**软件 WAF**、**云 WAF**
	- WAF 的工作原理：
		- 使用一组规则来区分正常请求和恶意请求
		- 使用机器学习自主生成规则
		- 按主要操作模式：
			- 否定模型（基于黑名单）
			- 正面模型（基于白名单）
			- 混合 / 混合模型（包含模型，基于白名单和黑名单）
	- 按WAF 系统的部署模式分为：**透明代理模式**（网桥代理模式）、**反向代理模式**、**路由代理模式**和**端口镜像模式**

| 维度   | 防火墙                  | WAF                            |
| :--- | :------------------- | :----------------------------- |
| 防护层级 | 网络层、传输层（L3，L4）       | 应用层（L7，专注于 HTTP / HTTPS 流量）    |
| 主要目标 | 控制网络流量（IP / 端口 / 协议） | 防御 Web 应用攻击（如 SQL 注入、XSS、CSRF） |
| 防护对象 | 整个网络或子网              | 特动的 Web 应用或 API 接口             |
| 典型威胁 | DDoS、端口扫描、未授权访问      | OWASP Top 10 漏洞（如注入攻击、文件包含）    |

- <font color="#00ffb0">议题 4 - 14</font>：防火墙配置与开发
	- Linux 下的防火墙：
		- iptables 是于 Linux 内核继承的 IP 信息包过滤技术
		- iptables 由表、链和规则组成
	- Windows 下的防火墙：
		- 防火墙的配置分为**专用网络**和**公用网络**

