### 壹  数据库基本介绍

#### 述：
##### 万里经书传大智，阳关沧海憾有失。
##### 仙君借来无边袋，千载悠悠见今时。

###### · 数据库技术：
· 数据库技术产生于六十年代末，是数据管理的最新技术，是计算机科学的重要分支
· 数据库技术是信息系统的核心和基础，它的出现极大地促进了计算机应用向各行各业的渗透
· 数据库的广泛应用也进一步促进了数据库技术的发展，使其成为计算机科学中发展最快的一个领域

###### · 数据管理技术的发展：
· **数据管理**是指对数据进行分类、组织、编码、存储、检索和维护，是数据处理的中心问题
· 数据管理技术的发展过程：
1. 人工管理阶段（40 年代中 — 50 年代中）
2. 文件系统阶段（50 年代末 — 60 年代中）（文件系统是操作系统下的一个组成部分）
3. 数据库系统阶段（60 年代末 — 现在）
· 数据管理技术的发展动力：应用需求的推动、计算机硬件和软件的发展

###### · 人工管理阶段：
· 应用需求：科学计算
· 硬件水平：无直接存取存储设备（只有低效的顺序存储设备）
· 软件水平：无操作系统和管理数据软件
· 处理方式：批处理
· 人工管理特点：
1. 数据不保存（没有专门设备来进行长期保存）
2. 无专用的软件管理数据
3. 应用程序完全依赖于数据
4. 数据不能共享（每个应用程序都有一个自己对应的数据集）

###### · 文件系统阶段：
· 应用需求：科学计算
· 硬件水平：磁盘磁鼓
· 软件水平：文件系统
· 处理方式：联机事实处理、批处理
· 文件系统管理特点：
1. 数据可以长期保持
2. 有专门的文件系统软件管理数据
3. 数据是面向应用的
4. 数据冗余度大（不同应用所需的数据可能重叠，但是文件系统管理下每个文件各自创建所需数据库）
5. 缺乏对数据统一的控制机制

###### · 数据库系统阶段：
· 应用背景：大规模管理
· 硬件背景：大容量磁盘
· 软件背景：有数据库管理系统
· 处理方式：联机实时处理、分布处理、批处理
· 数据库时代开启标志性三件大事：
1. 1968 年美国 IBM 公司研制了世界上第一个商品化的数据库管理系统——层次数据库系统 IMS
2. 1969 年美国数据库系统语言研究会下属的数据库任务组公布了基于网状模型的 DBTG 报告
3. 1970 年 IBM 公司的研究员 E.F.Codd（关系数据库之父） 发表了题为“大型共享数据库数据的关系模型”等一系列关系数据库论文，奠定了关系数据库的理论基础
· 数据库系统阶段主要特征：
1. 数据结构化（整体化）
2. 数据独立性高：
	1. 物理独立性：数据库物理结构的改变，不影响数据的逻辑结构，不影响应用程序
	2. 逻辑独立性：数据库中的逻辑数据结构发生改变时，应用程序无需修改
	· 数据独立性通过数据库系统所提供的二级映像实现：
	1. 数据的存储结构与逻辑结构之间的映像
	2. 数据的全局逻辑结构到应用所涉及的局部逻辑结构之间的映像
3. 减少数据冗余：
	1. 数据不再是面向应用，而是面向系统
	2. 数据集中管理
4. 数据共享：数据库发展的主要原因，也是重要特征
5. 统一的数据保护功能
![[数据库原理与设计图/数据库原理与设计图1-1.png]]
（图一：数据库系统的管理原理）

###### · 数据库：
· 所谓数据库就是存放数据的仓库：
数据库是长期存储在计算机内、有组织的数据集合，它根据数据间的联系组织在一起，具有较高的数据独立性，较少数据冗余，能够为各种用户共享
· 数据库需要由一个软件系统统一管理，这个软件系统称为数据库管理系统（DataBase Management System（DBMS））
![[数据库原理与设计图/数据库原理与设计图1-2.png]]
（图二：数据库系统组成及其间的联系）


### 贰  数据模型

#### 述：
##### 菩提本无树，明镜亦非台。
##### 其形源何处？世人心中来。

###### · <font color="#00b050">数据模型</font>：
· 数据模型是信息领域中采用的模型方法
· 将现实世界中的各自事物及期间的联系转换成数据及数据间的联系
· **数据模型**是数据特征的抽象，用来描述数据的一组概念和定义，包含：
1. <font color="#ffff00">数据结构</font>：
	· 对数据静态特性的描述
	· 应用所涉及的对象和对象具有的特征、对象间的联系
	· 区别数据模型最主要的部分
2. <font color="#ffff00">数据操作</font>：
	· 对数据的动态特性的描述
	· 对数据库中对象实例执行的一组操作，包括检索、插入、删除、修改等
3. <font color="#ffff00">数据的完整性约束</font>：
	· 对数据静态和动态特性的限定
	· 反映了数据间的制约和依存关系
· 广义的数据模型包含概念模型和（基本）数据模型两个层面：
1. 概念模型：不涉及信息在计算机中如何表示，它用来描述某一特定范围内人们所关心的信息结构；它是面向用户的，只要用户需求不变，概念模型也不变（如 E-R 模型）
2. （基本）数据模型：
	1. 逻辑数据模型：用户所看到的数据模型，仅表示数据的逻辑结构，现有 DBMS 都是以其所支持的逻辑数据模型来分类的
	2. 物理数据模型：表示数据存储结构和存取的方法，反映逻辑数据模型在物理存储器上的具体实现


### 叁  数据库系统结构

#### 述：
#####
#####

###### · 数据库系统的概念：
· 数据库系统（database system，DBS）是指引入数据库后的计算机系统，一般是指由数据库、数据库管理系统（及其应用开发工具）、应用系统和数据库管理员（database administrator，DBA）组成的存储、管理、处理和维护数据的系统

###### · <font color="#00b050">数据库系统结构</font>：
· 在数据库系统中，用户可以逻辑地、抽象地处理数据，而不必考虑数据在计算机中是如何进行组织、存放的，数据库系统结构应该是一个多级结构：方便用户存取数据；高效地组织数据，以最佳形式在物理存储器上存放数据

###### · <font color="#00b050">数据库系统三级模式结构</font>：
1. <font color="#ffff00">模式</font>（Schema），也称“逻辑模式”：
· 模式是对全体数据的逻辑结构和特征的描述，构成了数据库的一个总的框架
· 模式独立于上层应用程序和最下层物理存储
· 一个数据库对应一个模式
· 提供模式描述语言
2. <font color="#ffff00">外模式</font>（External Schema）：
· 外模式是数据库用户（程序员和最终用户）能看见的局部数据的逻辑结构和特征的描述，是与某一应用具体相关的数据的逻辑表示
· 外模式是模式的子集：
	1. 一个数据库可以有多个外模式：（模式与外模式：一对多）
		1. 数据库可以有多个外模式，反映了不同用户的应用需求、看待数据的方式、对数据保密的要求
		2. 对模式中同一数据，在外模式中的结构、类型、长度、保密级别等都可以不同
	2. 不同的用户有不同的外模式：（外模式与应用：一对多）
		1. 同一个外模式可以为多个应用系统所使用
		2. 单一应用程序只能使用一个外模式
· 外模式的用途：保证数据库安全性的一个有力措施，每个用户只能看见和访问所对应的外模式中的数据
3. <font color="#ffff00">内模式</font>（Internal Schema），也称“存储模式”：
· 内模式是数据物理结构和存储方式的描述，是数据在数据库内部的表示方法：
	· 规定数据在存储介质上的物理组织方式，记录寻址方式
	· 定义物理存储块的大小、溢出的处理方法等
· 一个数据库只能有一个内模式
![[数据库原理与设计图/数据库原理与设计图1-4.png]]
（图三：数据库系统的三级模式结构）
· 注意：在数据库系统中，外模式可以有多个，而逻辑模式、内模式只能各有一个：
1. 内模式是整个数据库实际存储的表示
2. 概念模式是整个数据库实际存储的抽象表示
3. 外模式是概念模式的某一部分的抽象表示
· 数据库系统的三级模式是对数据的三个抽象级别：<font color="#ffc000">视图级、概念级、物理级</font>

###### · <font color="#00b050">三级模式结构的二级映像</font>：
· 三级模式结构将数据库的全局逻辑结构同用户的局部逻辑结构和物理组织结构分开
	· 用户能逻辑抽象地处理数据，不必关心数据在计算机中的内部表示
	· 数据的存储也不必考虑用户对数据的使用，数据的具体组织由 DBMS 管理
· 三级模式之间提供了两级映像：**外模式/模式映像**、**模式/内模式映像**
· 目的是在数据库内部实现这三个抽象层次的联系和转换
1. 外模式和模式之间的影响定义局部数据逻辑结构与全局逻辑结构之间的对应关系：一个模式对应多个外模式，当模式结构改变，则只要修改外模式与模式间的对应关系，而不必修改外模式中的局部逻辑结构，因而相应的应用程序亦可不必修改，实现了数据的<font color="#00b0f0">逻辑独立性</font>
2. 模式与内模式之间的映像定义全局数据逻辑结构和物理数据存储间的对应关系：当数据库的物理存储结构改变时，仅需要修改模式与内模式间的映像关系，而可以使模式保持不变，从而使应用程序保持不变，提供了数据的<font color="#00b0f0">物理独立性</font>


### 肆  数据库管理系统

#### 述：
#####
#####

###### · <font color="#00b050">数据库管理系统的功能</font>：
1. <font color="#ffff00">数据库的定义功能</font>：
	1. 模式定义语言（DDL）：定义数据库全局逻辑结构
		· 定义记录型和记录的数据项，包括记录和数据项的命名，记录的键，数据项的数据类型、长度
		· 说明数据之间的联系
		· 定义对数据进行有效性检查的约束条件
		· 规定数据的安全控制等
	2. 外模式定义语言：定义用户的局部逻辑结构
		· 其形式和功能基本与模式 DDL 语言相同，但它描述的是用户数据库的逻辑结构
		· 对记录和数据项及它们之间的联系是按用户视图描述的，因此可以与模式有不同的记录名、记录组成，有不同的数据项名、类型及长度。记录间的联系也可以与模式中不同
	3. 内模式定义语言：定义物理数据库的结构
		· 物理数据库是在设备介质上真正存在的数据库
		· 数据在介质上如何表示，如何组织，都由内模式语言描述，内容包括：
			1. 数据的存储方式, 如直接存储、索引组织或链式结构
			2. 数据的存取方式和检索技术， 如索引方式用索引寻址法，对直接文件用散列法等
			3. 对数据的分区、分页，如规定数据区、索引区等
2. <font color="#ffff00">数据库的操作功能</font>：
	· 数据操纵语言（DML）：实现对数据库的操作、插入、删除、修改、查询等
3. <font color="#ffff00">数据库的保护功能</font>：
	· <font color="#ffc000">数据库的安全性</font>控制主要是防止未授权用户对数据库的操作所造成数据的泄露、更改和破坏
	· <font color="#ffc000">数据库的完整性</font>控制能够保证数据库数据的正确性和相容性，以防止对数据库的误操作
	· <font color="#ffc000">数据库的并发控制</font>主要解决多用户共享数据库时不会出现读写数据库的错误
	· 数据库系统在运行时可能会出现各种各样的故障，<font color="#ffc000">数据库的恢复</font>应能够提供数据遭到破坏时将数据库恢复到正确状态的功能
4. <font color="#ffff00">数据库的维护功能</font>：
	1. 转储程序
	2. 数据装入程序
	3. 统计分析程序
	4. 重组程序
	· 此外，还包括对无用数据的收集及空间的再分配等程序

###### · 数据库管理系统的组成：
1.  系统主控程序
2.  存取控制程序
3.  并发控制程序
4.  数据有效性检查程序
5.  数据保护程序
6.  查询处理程序
7.  数据更新程序
8. 目录管理程序
9. 通讯程序

###### · 数据库系统的工作过程：
· 以 DBMS 为核心的数据库系统的工作环境如下所示：
![[数据库原理与设计图/数据库原理与设计图1-3.png|500]]
                    （图四：以 DBMS 为核心的数据库系统工作环境示意图）


### 伍  数据库系统的不同视图

#### 述：
##### 春见枝上芽生，夏晓叶间虫鸣。
##### 秋看随风卷地，冬觉白雪无情。

###### · 数据库系统的不同视图：
· 数据库系统的设计、建立、使用和维护设计许多人，这些人员可以分为四类：
数据库管理员（DBA）、系统分析员、应用程序员、用户
· 不同人员设计数据的抽象级别不同：
![[数据库原理与设计图/数据库原理与设计图1-5.png|500]]
							（图五：数据库系统的不同视图）

###### · 数据库管理员（DBA）：
· 决定数据库中的信息内容和结构
· 决定数据库的存储结构和存取策略
· 定义数据的安全性要求和完整性约束条件
· 监控数据库的使用和运行：
	周期性转储数据库（数据文件/日志文件）、系统故障恢复、介质故障恢复、监视审计文件
· 数据库的改进（性能监控和调优）和重组
· 数据库重构

###### · 系统分析员：
· 负责应用系统的需求分析和规范说明
· 与用户及 DBA 协商，确定系统的软硬件配置
· 参与数据库系统的概要设计

###### · 数据库设计人员：
· 参加用户需求调查和系统分析
· 确定数据库中的数据
· 设计数据库各级模式

###### · 应用程序员：
· 设计和编写应用系统的程序模块
· 进行调试和安装

###### · 用户：
· 偶然用户：企业或组织结构的高中级管理人员
· 简单用户：银行的职员、机票预定人员、旅馆总台服务员
· 复杂用户：
	· 工程师、科学家、经济学家、科技工作者等
	· 直接使用数据库语言访问数据库，甚至能够基于数据库管理系统的 API 编制自己的应用程序


### 陆  数据库技术的发展

#### 述：
##### 三年一代风云改，十载浩浩新纪开。
##### 莫夸功在人慧伟，天道自运更迭来。

###### · 第一代60年代末研制的层次、网状数据库系统：
· IBM 公司研制的层次数据库系统 IMS 是层次数据库系统的代表，是世界上最早出现的商品化数据库管理系统 ，该系统的不同版本至今还在使用
· 网状数据库系统的代表是美国数据库系统语言研究会下属的数据库任务组在 70 年代初公布的 DBTG 报告，是数据库系统的重要文献之一

###### · 第二代关系数据库系统：
· 1970 年 E.F.Codd 提出了关系数据模型的概念，之后相继发表了一系列关系模型的论文，奠定了关系数据库的理论基础，为此，1981 年获得了 ACM 图灵奖
· IBM 公司用了 5 年时间研制出了关系数据库系统 System R
· 加利福尼亚大学 Berkeley 分校也研制出了关系数据库系统 INGRES

###### · 在关系数据库系统之后，人们围绕面向对象数据模型（OO模型）开展了对新一代数据库系统的研究：
· 1990年高级DBMS功能委员会发表了《第三代数据库系统宣言》的文章，文章中提出了第三代DBMS应具有的基本特征
· 由于面向对象数据模型从理论和实现技术上还有许多问题需要解决，尽管也开发了很多面向对象数据库管理系统（OODBMS），但没有出现人们预期的结果

###### · 小结：
· 数据模型的**三**大组成：
1. 数据结构（静态特性）
2. 数据操作（动态特性）
3. 数据的完整性约束（静态与动态特性的限定）

· 广义数据模型的层面：
1. 概念模型（独立于计算机）
2. （基本）数据模型：（面向计算机）
	1. 逻辑数据模型
	2. 物理数据模型

· 数据库系统（DBS=DB+DBMS+……）的**三**级模式结构：
1. 外模式——视图级
2. 模式（逻辑模式）——概念级
3. 内模式（存储模式）——物理级
· 外模式与应用一对多关系，模式与外模式一对多关系，内模式与模式一对一关系，模式与数据库一对一关系

· 数据库三级模式结构的**二**级映像：
1. 外模式/模式映像——数据的逻辑独立性
2. 模式/内模式映像——数据的物理独立性

· 数据库管理系统（DBMS）的**四**大功能：
1. 数据库的定义功能（三级定义语言：模式定义语言 DDL，内模式定义，外模式定义）
2. 数据库的操作功能（数据操纵语言：DML）
3. 数据库的保护功能（安全性控制、完整性控制、并发控制、数据库恢复）
4. 数据库的维护功能

