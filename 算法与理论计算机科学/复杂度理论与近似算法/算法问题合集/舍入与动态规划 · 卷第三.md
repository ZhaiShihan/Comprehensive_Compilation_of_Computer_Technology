#### 1. 整数背包问题的贪心算法是 $\frac{1}{2}$—近似算法

###### 问题描述：

· 考虑如下针对背包问题的贪心算法：首先将所有物品按照价值与体积的比值从大到小排序，即 $\frac{v_1}{s_1}\geq\frac{v_2}{s_2}​\geq\cdots\geq\frac{v_n}{s_n}$​​，设 $i^*$ 为最大价值物品的索引，即 $v_i^*=max_{i\in I​}\ v_i$；该贪心算法按照索引顺序将物品放入背包，直到下一个物品无法放入，即找到 $k$ 使得 $\sum_{i=1}^k​s_i​\leq B$ 且 $\sum_{i=1}^{k+1}​s_i​\textgreater B$

· 算法返回 $\{1,\cdots,k\}$ 或 $\{i^*\}$，以较大价值者为准

· 证明该算法是一个 $\frac{1}{2}$—近似算法

###### 问题求解：

· 定义：$i^*$ 的价值为 $V_{i^*}$，$\{1,\cdots,k\}$ 的总价值为 $V_g$

1. 如果 $V_{i^*}\geq\frac{1}{2}​OPT$，那么显然有 $max(V_g​,V_{i^*}​)\geq\frac{1}{2}OPT$
2. 如果 $V_{i^*}\textless\frac{1}{2}​OPT$，此时需要证明 $Vg​\geq\frac{1}{2}​OPT$：

· 假设最优解选择的物品集合是 $S^*=\{j_1,j_2​,\cdots,j_m​\}$，则：$OPT=\sum_{j\in S^*}v_j$

· $S^*$ 被分为两部分，贪心选择 $S_g$ 和未被选择 $S_{rem}$，由于贪心选择的性质： $\sum_{i=1}^k​s_i​\leq B$ 且 $\sum_{i=1}^{k+1}​s_i​\textgreater B$，且优先选择价值密度最高的物品，$S_g$ 中的物品价值密度一定大于 $S_{rem}$，况且最大价值物品 $V_{i^*}\textless\frac{1}{2}OPT$，故 $V_{rem}$ 不可能达到 $V^*$ 的一半：$$V_g=V^*-V_{rem}\geq V^*-\frac{1}{2}V^*=\frac{1}{2}V^*=\frac{1}{2}OPT$$

· 此时仍有 $max(V_g​,V_{i^*}​)=V_g\geq\frac{1}{2}OPT$，故算法近似比为 $\frac{1}{2}$


#### 2. 利用动态规划在 $O(nW)$ 时间内求解最优调度问题

###### 问题描述：

· 考虑以下调度问题：有 $n$ 个作业要在一台机器上进行调度，每个作业 $j$ 有一个处理时间 $p_j$​，一个权重 $w_j$​ 和一个截止时间 $d_j$​，其中 $j=1,\cdots,n$；目标是安排这些作业的顺序，使得在截止时间前完成的作业的总权重最大化

· 首先证明总是存在一个最优调度，使得所有按时完成的作业都在所有迟到的作业之前完成，并且按时完成的作业按最早截止时间的顺序排列

· 利用这一结构性结果，展示如何使用动态规划在 $O(nW)$ 时间内解决这个问题，其中 $W=\sum_j​w_j$，然后利用这个结果推导出一个全多项式时间近似方案（FPTAS）

###### 问题求解：

· 证明：

· 假设有两个按时完成的作业 $j$ 和 $k$，其中 $d_j\textless d_k$​ 但 $j$ 排在 $k$ 之后；交换 $j$ 和 $k$ 后，仍然是一个有效调度，因为 $j$ 的截止时间更早

· 假设有一个作业 $j$ 按时完成且权重 $w_j$​ 小于某个迟到的作业 $k$ 的权重 $w_k$​，但 $j$ 排在 $k$ 之前；将 $k$ 排在 $j$ 之前不会使得调度变得更差，因为 $k$ 的权重更高且仍然迟到

· 动态规划算法设计：
1. 对作业按截止时间 $d_j$​ 升序排序
2. 定义 $DP[t][w]$ 为前 $t$ 个作业中总权重为 $w$ 的最小完成时间
3. 初始化：$DP[0][0]=0$（没有作业，权重为0，所需时间为0），对于其他 $DP[0][w]$（$w\textgreater 0$），设为无穷大
4. 递推关系：$$DP[t][w]=min(DP[t−1][w],DP[t−1][w−wt​]+pt​)$$
5. 最终结果：找到最大的 w，使得 $DP[n][w]\leq d_n$

· “FPTAS”：
1. 选择一个参数 $\epsilon\textgreater0$
2. 将每个权重 $w_j$​ 缩放为整数 $\tilde{w_j}​=\lfloor\frac{w_j}{K}​\rfloor$，其中 $K=\frac{\epsilon W}{n}​$
3. 使用缩放后的权重运行动态规划算法
4. 返回结果，其误差在 $\epsilon$ 范围内


#### 3. 多机器调度在 $p_j​/w_j$ 非递减顺序下最小化加权完成时间总和

###### 问题描述：

· 考虑以下调度问题：有 $n$ 个作业需要在 $m$ 台机器上进行调度，其中 $m$ 为常数；每个作业 $j$ 有一个处理时间 $p_j$​ 和一个权重 $w_j​(j=1,\cdots,n)$；一旦开始，每个作业必须在该机器上连续处理至完成且不能中断；对于给定的调度方案，令 $C_j$​ 表示作业 $j$ 的完成时间（$j=1,\cdots,n$），目标是最小化所有作业的加权完成时间总和 $\sum_j​w_jC_j​$

· 首先，证明存在一个最优调度，使得每台机器上的作业按 $p_j​/w_j$​ 非递减顺序调度，然后利用这一性质推导出一个动态规划算法，并基于此算法获得一个全多项式时间近似方案（FPTAS）

###### 问题求解：

· 证明：
1. 交换论证：假设最优调度中存在两个作业 $j$ 和 $k$，满足 $p_j/w_j\textgreater p_k/w_k$ 且 $j$ 在 $k$ 之前执行
2. 完成时间：交换前的完成时间为 $C_j$ 和 $C_k$，交换后的完成时间为 $C_j'$ 和 $C_k'$
3. 交换后：如果交换 $j$ 和 $k$，总加权完成时间变化为：$w_j​C_j^{'}​+w_k​C_k^{'}-(w_j​C_j​+w_k​C_k​)$
4. 代入：$C_j^{′}​=C_k​+p_j$ ​和 $C_k^{'}=C_j​-p_j​+p_k$​ 得：$w_j​p_j​+w_k​p_k​-(w_k​p_j​+w_j​p_k​)$
如果 $w_j p_k \leq w_k p_j$，则可以证明交换后的加权完成时间不增加，甚至可能减少，因此作业按 $p_j/w_j$ 非递减顺序调度是最优的

· DP 算法：
1. 令 $dp[t]$ 表示处理时间总和为 $t$ 时的最小加权完成时间
2. 转移方程：$dp[t+p_j]=min(\ dp[t+p_j],\ dp[t]+w_j(t+p_j)\ )$
3. 初始 $dp[0]=0$
4. 目标：计算 $dp[T]$，其中 $T$ 为所有作业的总处理时间

· “FPTAS”：
1. 近似比例：对于每个作业 $j$，调整 $p_j$ 使之为整数且满足近似比例 $\epsilon$
2. 舍入处理时间：令 $p_j' = \lceil \frac{p_j}{K} \rceil$，其中 $K = \frac{\epsilon \sum_j p_j}{n}$
3. 动态规划处理：使用上述算法计算近似处理时间 $p_j'$ 的最优解
4. 保证近似度：通过选择适当的 $\epsilon$ 和 $K$，可以保证最终解与最优解之间的误差在 $\epsilon$ 范围内


#### 4. 多项式时间解决有总长度限制的最小成本路径问题

###### 问题描述：

· 假设我们有一个带有指定源节点 $s$ 和汇节点 $t$ 的有向无环图，每条弧 $e$ 都有一个相关的成本 $c_e$​ 和其长度 $\ell e$，还给定一个长度上限 $L$

· 设计一个全多项式时间近似方案（FPTAS）来解决在总长度不超过 $L$ 的情况下，从 $s$ 到 $t$ 的最小成本路径问题

###### 问题求解：

1. 长度离散化：给定精度参数 $\epsilon$，将每条弧的长度缩放为整数：$\ell^{'}_e=\lceil\frac{\ell_en}{\epsilon L}\rceil$，$n$ 是节点数
2. 定义 $dp[u][k]$ 为从 $s$ 到节点 $u$ 且路径长度不超过 $k$ 的最小成本
3. 初始化 $dp[s][0]=0$，其他节点无穷大：$dp[u][0]=\infty,\ u\neq s$
4. 状态转移：对于所有边 $(u,v)$ 和所有可能的长度 $k$：$$dp[v][k+\ell_e^{'}​]=min(\ dp[v][k+\ell_e^{'}​],\ dp[u][k]+c_e​\ )$$
5. 求解最优解：计算满足长度限制 $L^{'}=\lfloor\frac{Ln}{\epsilon L}​\rfloor=\lfloor\frac{n}{\epsilon}​\rfloor$ 的最小成本：$min\_cost=min_{k\leq L^{'}}\ dp[t][k]$

· 时间复杂度为 $O(m\cdot n\cdot L^{'})=O(\frac{m\times n^2}{\epsilon})$

