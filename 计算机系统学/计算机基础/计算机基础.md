### 壹  计算机的工作原理与硬件体系结构

####
#####
#####

##### 一. 计算机的发展与图灵机
###### 1. 计算工具的演变：
1. 古代计算工具：
· 人类最原始的计数方法从手指、木棍、石块、贝壳开始；春秋战国时期发明算筹；汉代开始出现“珠算”一词，宋代完成算盘的定形
· 祖冲之借助算筹将圆周率计算到了小数点后 7 位，精度当属当时世界最高
· 古希腊人发明“算板”，罗马人发明罗马“算盘”，印度人发明“沙盘”，英国人发明“刻齿木片”
2. 机械式计算机：
· 1642 年帕斯卡发明世界第一台齿轮式机械计算机
· 30 年后莱布尼茨发明一种能完成乘除运算的机械式手摇计算器、
· 1834 年英国科学家巴贝奇提出了制造自动化计算机的设想，并引进了程序控制的概念
3. 近代电子计算机：
· 20 世纪初期，出现了一些具有控制功能的电子元件
· 1925 年美国麻省理工学院的一个小组制造了第一台机械模拟式计算机
· 1944 年数学家艾肯研制成功了一台机电式计算机 MARK—Ⅰ，后来又研制出 MARK—Ⅱ，MARK—Ⅲ
· 后来建立在电子管和晶体管之类的电子元件基础上的计算机，沿用将继电器作为计算机电子原件的发展道路
4. 电子计算机的诞生：
· 1946 年 2 月，由于军事上需要，电子数值积分计算机问世（通常认为是世界上第一台数字式电子计算机）
· 1945 年冯 · 诺伊曼的离散变量自动电子计算机（EDVAC）方案，成为一个全新的“存储程序通用电子计算机方案”，为计算机的设计树立了里程碑
· 直到今天，无论是什么规模的计算机，其基本结构仍遵循冯 · 诺伊曼提出的基本原理，因而被称为冯  · 诺伊曼计算机

###### 2. 电子计算机发展的四个阶段：
1. 第一代（1946~1958）：电子管数字计算机时代
· 计算机的电子器件采用电子管，主存储器采用汞延迟线、磁鼓、磁芯，外存储器采用磁带和纸带，运算速度是每秒 5000~30000 次
· 使用机器语言和汇编语言，以科学计算为主
· 特点：体积大，可靠性查，维修复杂且价格昂贵
· 它奠定了以后计算机技术的基础
2. 第二代（1958~1964）：晶体管数字计算机时代
· 电子器件采用晶体管，主存储器采用磁芯，外存储器使用磁盘，使得计算机的体积大大缩小，由此耗电减少，可靠性提高，整体性能比第一代计算机有很大的提高
· 高级语言（如 FORTRAN、ALGOL、COBOL ）及编译程序出现，还出现了以批处理为主的操作系统，其应用范围从科学计算拓展到各种事物处理，并开始用于工业控制
3. 第三代（1964~1971）：集成电路数字计算机
· 20 世纪 60 年代，微电子技术的发展推动了中、晓规模集成电路（MSI，SSI）电子器件的产生，使计算机的体积大为缩小，耗电量下降，可靠性提高，性能上又有了很大的提高
· 软件逐渐发展完善，分时操作系统、会话式语言等多种高级语言都有了新的发展
· 小型机蓬勃发展起来，应用领域日益扩大
· 主存储器仍采用磁芯，使得计算机仍然不能小到可以放在桌面上
4. 第四代（1971 年以后）：大规模集成电路数字计算机
· 大规模集成电路在单片硅片上集成 1000~2000 个甚至更多的晶体管，其集成度比中、小规模集成电路提高了 2 个以上数量级，这使计算机以极快的速度迈向了微型化
· 1971 年来，世界上第一台微处理器和微型计算机在美国硅谷诞生，它开创了微型计算机的新时代
· 此后各种微处理器和微型计算机如雨后春笋般出现
· 以后的数十年内，芯片的集成度和电子计算机的计算速度每 18 个月就翻一番，而价格却随之降低一半，这种奇迹般的发展速度被归纳为“摩尔定律”

###### 3. 计算机的发展方向：
· 基于 20 世纪 80 年代提出的第五代计算机的概念，超导计算机、光子计算机、量子计算机、生物计算机、纳米计算机、神经计算机、智能计算机等开始进行研究
· 1983 年美国公布生物计算机的设想，采用生物工程技术产生的蛋白质分子作为生物芯片，利用有机化合物存储数据，以波的形式传播信息，模拟生物体的特点
· 未来的计算机将是微电子技术、光学技术、超导技术和电子放生技术以及新型材料相结合的产物

###### 4. 电子计算机的分类：
1. 超级计算机：
· 超级计算机即常说的巨型机，主要用于科学计算，其运算速度在每秒亿亿次以上，数据存储容量很大，结构复杂，价格昂贵
· 2020 年 6 月发布的全球超级计算机 500 强排行榜上，中国部署的超级计算机数量继续位列全球第一
2. 微型计算机：
· 大规模集成电路及超大规模集成电路的发展是微型计算机得以产生的前提
· 日常使用的台式计算机、笔记本计算机、掌上型计算机等都是微型计算机
3. 工作站：
· 工作站是一种高档的微型计算机，通常配有容量很大的内存储器和外部存储器，主要面向专业应用领域，具备强大的数据运算与图形、图像处理能力
4. 服务器：
· 服务器是指在网络环境下为网上多个用户提供共享信息资源和各种服务的一种高性能计算机
· 服务器上需要安装网络操作系统、网络协议和各种网络服务软件
· 服务器主要为网络用户提供文件、数据库、应用及通信方面的业务
5. 嵌入式计算机：
· 嵌入式计算机是指嵌入到对象体系中，实现对象体系智能化控制的专用计算机系统，如车载控制设备、智能家居控制器，以及日常生活中使用的电饭煲、电冰箱、空调、全自动洗衣机、数码产品等都采用了嵌入式系统

###### 5. 图灵与图灵机：
· 图灵机模型是一个采用了符号处理方式（程序）的通用计算机模型，这个模型要解决的问题是：对于任何一种计算，使用图灵机实现，输出的数据仅取决于输入的数据和程序这两个因素；也就是说，当输入的数据和程序不变时，通过图灵机计算所得到的输出结果是确定的；同样，当输入数据和程序任何一个发生变化时，输出数据也会发生相应的变化
· 图灵机的核心就是用机器来模拟人进行数学运算的过程，并且把这种过程分解成两种简单的动作：①在纸上写上或擦除某个符号；②把注意力从纸的一个位置移动到另一个位置
· **图灵机的四个部分**：
1. 一条无限长的纸带，用于使用二进制符号来表达计算机所用数据和控制规则
2. 一个读写头，用于获取或者改写纸带当前位置上的符号
3. 一个状态寄存器，用于保存图灵机当前所处的状态（包括停机状态）
4. 一套控制规则，它根据当前机器所处的状态以及当前读写头所获取的符号来确定读写头下一步的动作，并改变状态寄存器的值，令机器进入一个新的状态

##### 二、计算机的硬件组成
###### 1. 冯 · 诺伊曼计算机：
· 冯 · 诺伊曼的主要设想：“存储程序”和“采用二进制编码”
· 冯 · 诺伊曼设想的计算机功能：
1. 接受输入：“输入”是指送入计算机系统的任何数据，也指把信息送入计算机的过程
2. 存储数据：具有记忆程序、数据、中间结果及最终运算结果的能力
3. 处理数据：完成各种运算、数据传送等数据加工处理工作
4. 自动控制：能够根据程序控制自动执行，并能根据指令控制机器各部件的操作
5. 产生输出：“输出”是指计算机生成的结果，也指产生输出过程的结果
· 冯 · 诺伊曼构想下计算机的四个子系统：
1. 存储器：存储器是实现“程序内存”思想的计算机部件，用来存放计算机运行过程中所需要的数据和程序
2. 运算器：冯 · 诺伊曼计算机中的计算核心，完成各种算术运算和逻辑运算，也称算术逻辑部件（Arithmetic Logic Unit，ALU）；除此之外，运算器还具有暂存运算结果和传输数据的能力，这一切活动受控于控制器
3. 控制器：整个计算机的指挥控制中心，主要功能是项机器的各个部件发出控制信号，使整个机器自动、协调地工作；控制器管理着数据的输入、存储、读取、运算、操作、输出以及控制器本身的活动
4. 输入输出设备：输入设备将程序和原始数据转换成二进制串，并在控制器的指挥下按一定的地址顺序送入内存；输出设备则是用来将运算的结果转换为人们所能识别的信息形式，并在控制器的指挥下由机器内部输出
![[Pasted image 20240309123422.png|500]]
                            （图一：冯 · 诺伊曼计算机模型）

###### 2. 计算机的基本组成：
· 按照冯 · 诺依曼的设想设计的计算机，其体系结构具体到五大部分：控制器、运算器、存储器、输入设备、输出设备
· 计算机工作时，五大部分的基本工作流程是：计算机在控制器的统一协调指挥下完成信息的计算与处理，而控制器进行指挥所依赖的程序则是人编制的，需要事先通过输入设备将“程序”和需要加工的“数据”一起存入存储器；当计算机开始工作时，通过“地址”从存储器查找到“指令”，控制器按照对指令的解析进行相应的发布命令和执行命令的工作；运算器是计算机的执行部门，根据控制命令从存储器获取“数据”并进行计算，将计算机所得的新“数据”存入存储器；计算结果最终经输出设备完成输出
· 在这个体系结构中，控制器和运算器是计算机系统的核心，称为“中央处理器（Central Processing Unit，CPU）”，控制计算机所发生的全部动作

###### 3. 计算机的存储体系：
· 从系统的角度看，计算机的存储包含了内存、外存、高速缓存、寄存器 4 个不同的层次，构成了一套完备的存储体系，用于支持与 CPU 的协调工作以及用户的数据存储‘
· 从冯 · 诺依曼计算机体系结构的角度看，存储器就是由主存储器和辅助存储器两个部分构成

1. **主存储器**：又称为“内存储器”、“主存”或“内存”，它和运算器、控制器紧密联系，和计算机各个部件进行数据传送；主存储器的存取速度直接影响计算机的整体运行速度；通常将运算器、控制器、主存储器这三大部分合称为计算机的“主机”；主存储器按信息的存取方式分为两种：
	1. 只读存储器（Read Only Memory，ROM）：信息一旦写入就不能更改，主要用于完成计算机的启动、自检、各功能模块的初始化、系统引导等重要功能，只占主存储器很小的一部分
	2. 随机存取存储器（Random Access Memory，RAM）：主存储器的主体部分，当计算机工作时，RAM 能保存数据，但一旦切断电源，数据将完全消失
2. **辅助存储器**：又称为“外部存储器”或“外存”，用于弥补内存功能不足，追求永久性存储及大容量，采用非易失性材料；辅助存储器基本上都需要机械部件带动其运行，速度与内存相比要慢得多，不和计算机的其他部件直接进行数据交流，只和内存单独交换数据，这就是需要进行“外存调度”的原因

· 主存储器和辅助存储器共同构成了计算机的存储体系

· 与存储器相关的几个重要概念：
1. 位（bit）：计算机中最小的信息单位，也就是一个二进制位；一个位能存储一个二进制数，称为 1 位（b）；在串行通信中就是以这样的“位”为单位进行数据交换的
2. 字节（Byte）：计算机度量存储容量的计量单位，8 各相邻的位组成一组，称为一个字节（B），这时读写主存储器的基本存储单元，也是计量存储器大小的单位
3. 字（Word）和字长：“字”是计算机能同时处理的一组二进制数，“字长”是这组二进制数的位数，它是表示计算机处理能力的重要指标；在计算机中，运算器、控制器、主存储器通常都是以字为单位进行数据传送和处理的；通常一个计算机字由若干个字节组成，例如早期计算机的字长为两个字节，就称为 16 位计算机，如今的计算机字长有 8 位个字节的，就称为 64 位计算机；计算机处理数据、完成运算的速率和字长密切相关，如果一台计算机的字长的另一台计算机的两倍，即使两台计算机的速率相同，在相同的时间内前者能做的工作几乎是后者的两倍
4. 地址：在计算机中，内存通常是按存储单元组织的，每个存储单元存放的二进制数位数相同，通常这个位数是字节或字长（即 8 的整数倍）；在目前的微型计算机系统中，存储单元都是按字节组织的（即 8 位二进制数）；所有存储单元构成了一个存储矩阵，为方便存取，在这个矩阵中对每个存储单元按一定的顺序编号，这个编号称为“地址”
5. 存储容量：存储容量是描述计算机存储能力的指标，通常以字节为最小的计量单位，用 B 表示；内存容量越大，计算机的整体性能就会越好；目前微型计算机的存储容量可以达到上千亿字节，为度量方便，引入了千字节（KB）、兆字节（MB）、吉字节（GB）和太字节（TB）等度量单位，它们之间的换算关系如下：
$$1KB(千字节)=1024B\ (10^{20}B)$$
$$1MB(兆字节)=1024KB=1024×1024B\ (2^{20}B)$$
$$1MB(吉字节)=1024GB=1024×1024×1024B\ (2^{30}B)$$
$$1MB(太字节)=1024GB=1024×1024×1024×1024B\ (2^{40}B)$$
· 目前微型计算机的内存可以达到吉字节数量级，外存容量可以达到太字节数量级

##### 三、计算机的基本工作原理
###### 1. 用算盘解题的过程：
· 打算盘解 y=a+b 的过程：
1. 存放数据：把计算式中给定的两个数 a、b 分别写到纸的两行
2. 列出解题步骤：第一步写到一行中，第二步写到另一行中，以此类推
3. 进行计算：根据解题步骤，从第一步开始一步一步进行计算，最后得出所要求的结果
4. 记录结果：将计算机结果记录在纸上
· 计算机角度分析：
1. 编有序号的纸上面有原始数据以及解题步骤，这个步骤就是“程序”；纸“存储”了解题的程序和原始数据，起到了存储器的功能
2. 算盘用来对数据进行加、减、乘、除等算术运算，相当于运算器
3. 笔把原始数据和解题步骤记录到纸上，也把计算结果记录下来，这就是输出
4. 在人的控制下，按照解题步骤一步一步进行操作，直到完成全部运算

###### 2. 指令和指令系统：
· 按照冯 · 诺依曼计算机模型，人首先把需要计算机完成的所有工作，以计算机能懂的方式告诉计算机，这种方式成为计算机指令
1. 指令：人对计算机发出的工作命令，它通知计算机执行某种操作，通常一条指令对应着一种计算机硬件能直接实现的基本操作，如“取数”、“存数”、“加”、“减”等，将这些基本操作用命令集合的形式表达，这就是指令；指令以二进制编码形式表示，即由一串二进制数排列组合而成的符号串，其中的所有信息都是计算机硬件能识别的，所以又称为机器指令
2. 